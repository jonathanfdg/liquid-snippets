{%- assign product = all_products[section.settings.product] -%}
<section class="Section three-product-displays" data-section-id="{{ section.id }}" data-section-type="three-products" data-settings='{{ section_settings }}'>
  {% for block in section.blocks %} 
  	{% case block.type %}
  	  {% when 'product_row' %}
      {% include 'product-row' %}
      {% when 'information_break' %}
      {% include 'information-break' %}
   	{% endcase %}
  {% endfor %}
</section>
{% schema %}
  {
    "name": "Three Products Displays",
    "class":"shopify-section--bordered",
    "settings":[],
	"blocks":[
		{
          "type": "product_row",
          "name": "Product Row",
          "settings": [
			  {
                  "type": "image_picker",
                  "id": "image",
                  "label": "Image"
              },
			  {
				  "type": "text",
				  "id": "row_label",
				  "label": "Row Label"
			  },
              {
                  "type": "product",
                  "id": "feature_product_1",
                  "label": "Featured product 1"
              },
			  {
				  "type": "textarea",
				  "id": "fp_desc_1",
				  "label": "Description"
			  },
			  {
                  "type": "product",
                  "id": "feature_product_2",
                  "label": "Featured product 2"
              },
			  {
				  "type": "textarea",
				  "id": "fp_desc_2",
				  "label": "Description"
			  },
			  {
                  "type": "product",
                  "id": "feature_product_3",
                  "label": "Featured product 3"
              },
			  {
				  "type": "textarea",
				  "id": "fp_desc_3",
				  "label": "Description"
			  }
          ]
  		}, 
		{
          "type": "information_break",
          "name": "Information Break",
          "settings": [
              {
                  "type": "image_picker",
                  "id": "image",
                  "label": "Image"
              },
			  {
				  "type": "text",
				  "id": "title",
				  "label": "Title"
			  },
			  {
				  "type": "textarea",
				  "id": "content",
				  "label": "Content"
			  }
          ]
  		}
	]
  }
{% endschema %}

{% stylesheet %}
.product-row-container {
    display: flex;
}

.products-container {
    display: flex;
}

.product-row-image {
  flex: 100%;
}

.products-container .product-container img {
  margin: 0 auto 15px;
  display: block;
  height: 200px;
}

.pr-product-text {
	display: flex;
    flex-direction: column;
}

.pr-product-title {
    text-transform: uppercase;
    letter-spacing: 0.2em;
    font-family: var(--heading-font-family);
    font-weight: var(--heading-font-weight);
    font-style: var(--heading-font-style);
    text-align: center;
    padding: 0 0 12px;
}

.pr-product-description {
    font-size: 15px;
}

.products-container .product-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 0 20px;
    position: relative;
    overflow: hidden;
}

.products-container a.product-container .overlay,
.products-container a.product-container .overlay-text {
	display: none;
}

.products-container a.product-container.hover-event .overlay {
    display: block;
	position: absolute;
    background: rgba(247,247,247,0.9);
    transition: all 0.5s linear;
    width: 210%;
    height: 210%;
    left: 50%;
    transform: translate(-100%, -100%);
    clip-path: polygon(0% 50%, 50% 0%, 100% 0%, 100% 50%, 50% 100%, 0% 100%);
    top: 50%;
}

.products-container a.product-container.hover-event:hover .overlay {
    transform: translate(-50%, -50%);
}

.products-container a.product-container.hover-event .overlay-text {
    display: block;
    font-size: 23px;
    text-transform: uppercase;
    width: 100%;
    text-align: center;
 	position: absolute;
    top: 50%;
  	left: 50%;
    transform: translate(-50%, -50%);
    transition: opacity 0.3s ease-in-out 0.2s;
    opacity: 0;
}

.products-container a.product-container.hover-event:hover .overlay-text {
    opacity: 1;
}

.product-row-label {
    position: absolute;
    bottom: 0;
    color: #fff;
    text-align: center;
    width:  100%;
    font-size: 15px;
    padding: 20px 25px;
    text-transform: uppercase;
    letter-spacing: 2px;
}

.product-row-image {
    position: relative;
}

.information-break-container {
    display: flex;
    flex-direction: row;
}

img.info-image {
    margin-left: 40px;
}

h1.info-text-title {
    font-size: 24px;
    margin: 0 0 5px 0;
    text-transform: uppercase;
    letter-spacing: 2px;
    color: #555;
}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
